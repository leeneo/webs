<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="Generator" content="EditPlus®">
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<title>Document</title>
	<style type="text/css">
		/*初始化CSS！*/
		body,
		div,
		span,
		h1,
		h2,
		h3,
		h4,
		h5,
		h6,
		p,
		ul,
		li,
		ol,
		dl,
		dt,
		dd,
		a,
		img,
		input {
			margin: 0;
			padding: 0;
			list-style: none;
			text-align: center;
		}

		/*初写正文样式！*/
		body {
			color: #333;
			font: 14px '微软雅黑';
			background-color: #fdfcf8;
			line-height: 1.5;
		}

		/*初写超链接样式！*/
		a {
			color: #338de6;
			text-decoration: none;
		}
	</style>
</head>

<body>
	<canvas id="shuiyinTest">
	</canvas>
	<div>
		<input id="shuiyinText" value="" type="text" />
		<button id="shuiyinBtn" class="mui-btn mui-btn-primary" type="button"> 点击添加水印</button>
	</div>

	<script type="text/javascript">
		function shuiyin(canvasid, imgurl, addtext) {

			var img = new Image;

			img.src = imgurl;

			img.onload = function () {

				var canvas = document.getElementById(canvasid);

				var ctx = canvas.getContext("2d");

				ctx.drawImage(img, 0, 0);

				ctx.font = "14px 微软雅黑";

				ctx.fillStyle = "rgba(252,255,255,0.8)";

				document.getElementById("shuiyinBtn").onclick = function () {

					var addtext = document.getElementById("shuiyinText").value;

					ctx.fillText(addtext, 10, 50); //选择位置

				}

			}

		}

		shuiyin("shuiyinTest", "./img/girl0.png")
	</script>
</body>

</html>