<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		body{
			background: #555;
		}
		.box{
			width: 400px;
			margin: 100px auto 0;
			perspective:1000px;
		}
		.box a{
			display: block;
			width: 400px;
			height: 250px;
			color:#fff;
			text-decoration: none;
			position: relative;
			background: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),
			            url(../img/img02.jpg) no-repeat ;
			/*为什么要更改背景图片的大小：
				因为在大盒子里面，我们只需要柯南，并不需要黑色半透明背景
				所以用background-size将第一个背景图的大小设置为0，
				而第二个背景图的大小设置为cover
			*/
			background-size:0,cover;
			transform-style:preserve-3d;
			transition:all .6s;
		}
		
		.box a:before{
			content:'';
			width: 400px;
			height: 40px;
			position: absolute;
			left:0;
			bottom:0;
			/*用来继承父亲也就是a标签设置的一系列背景图*/
			background: inherit;
			/*在before里面，黑色半透明和柯南这两个背景图都需要，所以背景图大小设置成cover*/
			background-size:cover;
			/*背景图的默认位置是top，我们需要看到的背景图的底部，所以修改一下背景图的位置*/
			background-position:center bottom;
			text-align: center;
			transition:all .6s;
			
			/*
				视频的思路：
					首先把before顺时针（向屏幕里面旋转）90deg：rotateX(90deg)
					在hover状态，a是rotate(80deg):即顺时针旋转80deg
					在两次旋转之后，before最终被旋转了170deg，
					before是背面面对我们

			*/
			transform:rotateX(90deg);
			transform-origin:bottom;


			/*我自己的思路：
				首先把before逆时针（向屏幕外面旋转）90deg : rotateX(-90deg);
				在hover状态，a是rotate(80deg):即顺时针旋转80deg
				在两次旋转之后，before最终被旋转了10deg，
				before依然是正面面对我们

				这样我们就省的去操作span标签了

				但是，我们这样完成还是有bug的，需要给a标签的高度加个40px
				也就是a标签的高度应该=背景图的高度(250)+before的高度(40) = 290px
			*/
			/*transform-origin:top;
			transform:rotateX(-90deg)*/

		}
		.box span{
			position: absolute;
			bottom:0;
			left:0;
			width: 100%;
			height: 40px;
			font:18px/40px "微软雅黑";
			/*background: orange;*/
			text-align: center;
			/*hover状态之后，我们会发现span在before的上面，所以我们把span往下移即可
			在hover状态可以看出，下移是y轴的距离，所以translateY*/
			transform: rotateX(-90deg) translateY(40px);
			transform-origin:bottom;

		}
		.box a:after{
			content:'';
			position: absolute;
			top:0;
			left:0;
			width: 100%;
			height: 100%;
			background:rgba(0,0,0,.3);
			box-shadow: 0 0 100px 2px rgba(0,0,0,.7);
			/*
			1、阴影最初和before保持一致，所以也是顺时针旋转90deg：rotateX(90deg)
			2、因为阴影有点靠上，所以需要往下去：方向为z轴   translateZ(-160px)
				阴影水平方向为x和y，现在是要垂直阴影的水平方向向下走，所以是z轴
				translateZ(值)：正值为上走   负值为下走
			3、
			*/
			transform: rotateX(90deg) translateZ(-160px) scale(0.8);
			transition:all 0.6s;
			
		}
		.box:hover a:after{
			/*
				阴影最初已经顺时针旋转了90deg，当hover的时候a会再次顺时针旋转80deg，
				但是我们hover状态，是想要阴影处于整体的0度的状态
			*/
			transform: rotateX(0deg) translateZ(-100px) scale(1);

		}
		.box:hover a{
			transform: rotateX(80deg);
		}
		
	</style>
</head>
<body>
	<div class="box">
		<a href="javascript:;">
			<span>HTML5+CSS3</span>
		</a>
	</div>
</body>
</html>