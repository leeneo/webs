<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>自定义下拉菜单</title>
		<style type="text/css">
			*{
				margin:0;
				padding:0;
				list-style: none;
			}
			a{
				color: #333;
				display: block;
				padding-left: 20px;
				text-decoration: none;
				font:normal 14px/40px "微软雅黑";
			}
			a:hover{
				color: #fff;
				background: lightcoral;
			}
			.box{
				width: 200px;
				margin:100px auto 0;
			}
			.txt{
				width: 200px;
				height: 40px;
				position: relative;
			}
			.txt input{
				width: 178px;
				height: 38px;
				display: block;
				padding-left:20px;
				border:1px solid #ccc;
				font:normal 14px/40px "微软雅黑";
			}
			.txt span{
				top:15px;
				right:10px;
				width: 10px;
				height: 10px;
				position: absolute;
				border:1px solid #ccc;
				border-left:none;
				border-top:none;
				transform: rotate(-135deg);
				transition: all .4s;
			}
			ul{
				margin-top:-1px;
				display: none;
				border:1px solid #ccc;
			}
			.act a{
				color: #fff;
				background: lightblue;
			}
		</style>
	</head>
	<body>
		
		<div class="box">
			
			<div class="txt">
				<input type="text" disabled/>
				<span></span>
			</div>
			<ul>
				<li><a href="javascript:;">Javascript</a></li>
				<li><a href="javascript:;">HTML5+CSS3</a></li>
				<li><a href="javascript:;">移动页面制作</a></li>
				<li><a href="javascript:;">全能设计师</a></li>
			</ul>
			
		</div>
		
	</body>
</html>
<script src="jquery-2.1.3.min.js"></script>
<script type="text/javascript">
	
	/*
	 * 当点击 input 的时候需要让下面的 ul 列表显示出来 ，下拉箭头的指向需要变化
	 * 当点击 li 的时候需要将选中的li里的文字内容显示在input框里，同果让 ul 隐藏 ，下拉箭头的指向需要变化
	 */
	
	var bFlag = false;
	
	// 1 点击上面的 input 所在区域
	$('.txt').click( function(ev){
		
		if( !bFlag ){
			$(this).children('span').css( {'transform':'rotate(45deg)'} );
		}else{
			$(this).children('span').css( {'transform':'rotate(-135deg)'} );
		}
		bFlag = !bFlag;
		$('ul').toggle();
		
		
		// 因为事件冒泡的原因将 .txt 身上的点击事件冒到 document身上也会执行
		// 我们可以利用事件对象来阻止事件冒泡
		ev.stopPropagation();
		
	} );
	
	// 2 点击下面的选项列表
	$('li').click( function(){
		
		var oTxt = $(this).children('a').html();
		
		bFlag = false;
		$('ul').hide();
		$('input').val( oTxt );
		$(this).addClass('act').siblings().removeClass('act');
		$('.txt').children('span').css( {'transform':'rotate(-135deg)'} );
	} );
	
	
	// 3 点击空白区域让 ul 隐藏起来
	$(document).click( function(){
		$('ul').hide();
		$('.txt').children('span').css( {'transform':'rotate(-135deg)'} );
	} );
	
	
</script>