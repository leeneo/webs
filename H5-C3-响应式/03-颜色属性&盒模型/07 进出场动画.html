<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>进出场动画</title>
		<style type="text/css">
			*{
				margin:0;
				padding:0;
			}
			.box p{
				font:normal 16px/2em "微软雅黑";
			}
			div:nth-child(2){
				width:200px;
				height: 200px;
				background: orange;
				transition: all 1s;
			}
			.act{
				transform: translate(1000px);
			}
		</style>
	</head>
	<body>
		
		<div class="box">
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
			<p>C3进出场动画</p>
		</div>
		
		<div class="ani1"></div>
		
		<p style="height: 2000px;"></p>
		
	</body>
</html>
<script src="jquery-2.1.3.min.js"></script>
<script type="text/javascript">
	
	/*
	 * 当用户去滚动页面的时候我们需要不停求出此时页面滚出可视区的距离
	 * 同时我们还可以在页面没有滚动之前就求出当前需要做进场动画元素距离屏幕（页面）顶
	 * 部的距离值，因为这个值无论页面如何滚动它都是不变的。
	 * 
	 * 随着页面滚动的发生，那么页面滚动距离值就会越来越大，所以我们可以用它加上一个数值
	 * 当二者相加的结果大于等于ih 这个不变的值时就可以让元素做进场动画。
	 * 
	 * 01 要有元素进出场的思想，同果要明白我们可以通过类名来做这些事情。
	 * 02 jQ 也可以像操作CSS2一样来操作CSS3---> css( {'transform':'translate()'} )
	 * 
	 */
	
	//当前的div块 和页面内容最顶端的距离
	var iH = $('div').eq(1).offset().top;
	var windowHeight = document.body.clientHeight;
	$(document).scroll( function(){
		
		// 当前页面内容向上滚动的距离
		//即当前浏览器窗口顶端 和页面内容最顶端的距离
		var iScroll = $(document).scrollTop();
		
		//iscroll + 当前div块距离浏览器顶端的距离 = 当前div块距离页面内容最顶端距离
		if( iScroll +400>= iH ){
			// 此条件满足时我们认为 div 可以做进场动画了。
			$('.ani1').addClass('act');
		}else{
			$('.ani1').removeClass('act');
		}
		
		
	} );
	
	console.log( iH );
	
	
</script>